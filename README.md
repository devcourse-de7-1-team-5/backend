# 눈으로 보는 드라마 트렌드

## 📖 프로젝트 소개

**눈으로 보는 드라마 트렌드**는 드라마의 회차별 시청률, 뉴스 기사, 댓글 수 등의 데이터를 수집하고 가공하여 드라마의 인기도를 산정하고,  
이를 시각화하여 제공하는 토이 프로젝트입니다.
사용자는 이 프로젝트를 통해 드라마 관련 트렌드를 직관적으로 파악하고,    
드라마 회차별 시계열 데이터를 기반으로 한 깊이 있는 인사이트를 얻을 수 있습니다.

### 주요 목표

- **데이터 기반 순위 산정**: 흩어져 있는 드라마 관련 데이터를 종합하여 객관적인 인기 순위를 제공합니다.
- **시각화를 통한 직관적 분석**: 복잡한 데이터를 차트와 그래프로 시각화하여 트렌드 변화를 쉽게 이해할 수 있도록 돕습니다.
- **인사이트 도출**: 드라마의 성공 요인이나 화제성 변화를 분석할 수 있는 기반 데이터를 구축합니다.

---

## 📊 데이터 시각화

본 프로젝트에서 제공할 데이터 시각화 뷰는 다음과 같이 정의됩니다.

| 시각화 종류           | 주요 데이터       | X축 (시간/대상) | Y축 (수치)       |
|------------------|--------------|------------|---------------|
| **회차별 시청률 추이**   | 회차별 시청률      | 회차 / 방영일   | 시청률 (%)       |
| **드라마 인기 순위 변화** | 일간/주간/월간 순위  | 날짜         | 순위            |
| **장르별 인기 트렌드**   | 장르별 드라마 순위   | 날짜         | 순위            |
| **드라마별 화제성**     | 기사 언급량, 댓글 수 | 드라마 제목     | 기사 언급량 + 댓글 수 |

*자세한 프로토타입 및 시각화 결과물은 `docs/` 폴더에 추가될 예정입니다.*

---

## 🛠️ 기술 스택

| 구분            | 기술                            | 주요 역할                    |
|---------------|-------------------------------|--------------------------|
| **데이터 수집**    | `Python`, `Selenium`, `Httpx` | 네이버 검색 결과 및 뉴스 데이터 크롤링   |
| **웹 프레임워크**   | `Django`                      | 전체 애플리케이션 백엔드 및 웹 서비스 개발 |
| **데이터베이스**    | `Django ORM`, `SQLite` (기본)   | 수집된 데이터의 구조화 및 저장        |
| **데이터 처리/분석** | `Python`, `Pandas` (예정)       | 데이터 정제, 가공 및 분석          |
| **데이터 시각화**   | `Matplotlib`, `Chart.js` (예정) | 데이터 시각화 및 대시보드 구현        |
| **개발 환경**     | `uv`                          | Python 패키지 및 가상환경 관리     |

---

## 📂 프로젝트 구조

```
/backend
├── src/
│   ├── backend/         # Django 프로젝트 설정
│   ├── common/          # 공통 유틸리티 (날짜 처리, 크롤러 헬퍼 등)
│   ├── dramas/          # 드라마, 회차 정보 관련 앱
│   │   └── management/commands/  # 드라마/회차 데이터 수집 명령어
│   ├── news/            # 뉴스 데이터 관련 앱
│   │   └── management/commands/  # 뉴스 데이터 수집 명령어
│   └── templates/       # HTML 템플릿
├── pyproject.toml       # 프로젝트 의존성 및 설정 (uv)
├── uv.lock              # 잠금 파일
└── README.md            # 프로젝트 안내 문서
```

---

## 🌊 데이터 플로우

데이터 수집부터 시각화까지의 전체 흐름은 다음과 같습니다.

1. **드라마 목록 수집**
    - 네이버에서 연도별 종영 드라마 목록을 크롤링하여 기본적인 정보(제목, 방송사, 방영 기간)를 수집합니다.

2. **회차별 메타데이터 수집**
    - 수집된 드라마별로 회차 정보(회차 번호, 방영일, 시청률, 줄거리)를 크롤링합니다.

3. **뉴스 및 반응 데이터 수집**
    - 각 드라마의 방영 기간을 기준으로 관련 뉴스 기사를 크롤링하여 화제성 데이터를 수집합니다.

4. **데이터 저장 및 가공**
    - 수집된 모든 데이터를 Django ORM을 통해 데이터베이스에 저장합니다.

5. **분석 및 시각화**
    - 저장된 데이터를 분석 및 가공하여 API를 통해 제공하고, 웹 페이지에서 차트와 그래프로 시각화합니다.

---

## 🚀 시작하기

### 1. 프로젝트 클론

```bash
$ git clone https://github.com/your-username/your-repo-name.git
$ cd backend
```

### 2. 가상환경 설정 및 의존성 설치

이 프로젝트는 `uv`를 사용하여 가상환경 및 패키지를 관리합니다.

```bash
# uv 설치 (아직 설치하지 않은 경우)
$ pip install uv

# 가상환경 생성 및 활성화
$ uv venv
$ source .venv/bin/activate

# 의존성 패키지 설치
$ uv sync
```

### 3. 데이터베이스 마이그레이션

```bash
$ python src/manage.py migrate
```

### 4. 초기 데이터 설정 (크롤링)

아래 명령어를 실행하여 드라마, 회차, 뉴스 데이터를 한 번에 수집하고 데이터베이스를 설정합니다. 이 과정은 네트워크 상태에 따라 몇 분 정도 소요될 수 있습니다.

```bash
$ python src/manage.py setup_data
```

`setup_data` 명령어는 다음 세 가지 명령을 순차적으로 실행합니다.

1. `crawl_dramas`: 드라마 기본 정보 수집
2. `crawler_episodes`: 회차별 상세 정보 수집
3. `crawl_news`: 드라마 관련 뉴스 기사 수집

### 5. 개발 서버 실행

모든 설정이 완료되면 개발 서버를 실행합니다.

```bash
$ python src/manage.py runserver
```

서버가 실행되면 웹 브라우저에서 `http://127.0.0.1:8000/` 으로 접속하여 결과를 확인할 수 있습니다.